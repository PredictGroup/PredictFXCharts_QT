<HTML>
<HEAD>
<Title>The First Project</Title>
<link type='text/css' rel='Stylesheet' href="maxchartapi.css" />
</HEAD>
<body bgcolor="#FFFFFF" text="#000000" topmargin="0" leftmargin="0" rightmargin="0" marginwidth="0" marginheight="0">
<p class="heading0">ChartDirector 6.0 (C++ Edition)</p>
<p class="heading1">The First Project</p>
<hr class="separator">
<div class="content"><img src="images/simplebar.png"><br><br>
To get a feeling of using ChartDirector, and to verify the ChartDirector development environment is set up properly, we will begin by building a very simple bar chart.<br><br>
The following program comes from the sample programs included in the ChartDirector distribution. Please refer to the <a href="install.htm">Installation</a> section for details and how to compile it.<br><br>
[The following code is available in "cppdemo/simplebar".]
<table width="98%" border="0" cellpadding="10"><tr><td bgcolor="#cccccc"><pre>#include "chartdir.h"

int main(int argc, char *argv[])
{
    // The data for the bar chart
    double data[] = {85, 156, 179.5, 211, 123};

    // The labels for the bar chart
    const char *labels[] = {"Mon", "Tue", "Wed", "Thu", "Fri"};

    // Create a XYChart object of size 250 x 250 pixels
    XYChart *c = new XYChart(250, 250);

    // Set the plotarea at (30, 20) and of size 200 x 200 pixels
    c-&gt;setPlotArea(30, 20, 200, 200);

    // Add a bar chart layer using the given data
    c-&gt;addBarLayer(DoubleArray(data, (int)(sizeof(data) / sizeof(data[0]))));

    // Set the labels on the x axis.
    c-&gt;xAxis()-&gt;setLabels(StringArray(labels, (int)(sizeof(labels) / sizeof(labels[0]))));

    // Output the chart
    c-&gt;makeChart("simplebar.png");

    //free up resources
    delete c;
    return 0;
}</pre></td></tr></table><br>
The code is explained below:<br><br>
<ul>
<li><pre>#include "chartdir.h"</pre><br>
To use the ChartDirector API, you just need to include the "chartdir.h" header file. This header file will in turn include other necessary header files.<br><br>
<li><pre>XYChart *c = new <a href="XYChart.XYChart.htm">XYChart</a>(250, 250);</pre><br>
The first step in creating any chart in ChartDirector is to create the appropriate chart object. In this example, an <a href="XYChart.htm">XYChart</a> object of size 250 x 250 pixels is created. In ChartDirector, XYChart represents any chart that has x-axis and y-axis, such as the bar chart we are drawing.<br><br>
<li><pre>c-&gt;<a href="XYChart.setPlotArea.htm">setPlotArea</a>(30, 20, 200, 200);</pre><br>
The second step in creating a bar chart is to specify where should we draw the bar chart. This is by specifying the rectangle that contains the bar chart. The rectangle is specified by using the (x, y) coordinates of its top-left corner, together with its width and height.<br><br>
For this simple bar chart, we will use the majority of the chart area to draw the bar chart. We will leave some margin to allow for the text labels on the axis. In the above code, the top-left corner is set to (30, 30), and both the width and height is set to 200 pixels. Since the entire chart is 250 x 250 in size, there will be 20 to 30 pixels margin for the text labels.<br><br>
Note that ChartDirector uses a pixel coordinate system that is customary for computer screen. The x pixel coordinate is increasing from left to right. The y pixel coordinate is increasing from top to bottom. The origin (0, 0) is at the top-left corner.<br><br>
For more complex charts which may contain titles, legend box and other things, we can use this method (and other methods) to design the exact layout of the entire chart.<br><br>
<li><pre>c-&gt;<a href="XYChart.addBarLayer.htm">addBarLayer</a>(<a href="DoubleArray.htm">DoubleArray</a>(data, sizeof(data)/sizeof(*data)));</pre><br>
The above code adds a bar layer to the XYChart. In ChartDirector, any chart type that has x-axis and y-axis is represented as a layer in the XYChart. An XYChart can contain multiple layers. This allows "combination charts" to be created easily by combining different layers on the same chart (eg., a chart containing a line layer on top of a bar layer) .<br><br>
In the above line of code, the argument is an array of numbers representing the values of the data points.<br><br>
<li><pre>c-&gt;<a href="XYChart.xAxis.htm">xAxis</a>()-&gt;<a href="Axis.setLabels.htm">setLabels</a>(<a href="StringArray.htm">StringArray</a>(labels, sizeof(labels)/sizeof(*labels)));</pre><br>
The above code sets the labels on the x-axis. The first method <a href="XYChart.xAxis.htm">XYChart.xAxis</a> retrieves the <a href="Axis.htm">Axis</a> object that represents the x-axis. The second method <a href="Axis.setLabels.htm">Axis.setLabels</a> binds the text labels to the x-axis. The argument to the setLabels method is an array of text strings.<br><br>
<li><pre>c-&gt;<a href="BaseChart.makeChart.htm">makeChart</a>("simplebar.png");</pre><br>
Up to this point, the chart is completed. We need to output it somehow. In our simple project, we output the chart as a PNG formatted file.<br><br>
For the image format, in addition to PNG, ChartDirector supports JPG, GIF, BMP and WBMP. For output methods, ChartDirector supports outputting the images as files and in memory (eg. for display on screen).<br><br>
</ul>
<div style="background-color:#cccccc;width:99%;padding:10px"> <b>Note:</b> If you are running ChartDirector on Linux/FreeBSD/Solaris, the charts produced may be slightly different from the chart samples in this documentation, which are produced under Windows. This is because of the different fonts available on Windows and Linux/FreeBSD/Solaris. Please refer to <a href="fontspec.htm">Font Specification</a> on why you may want to download Windows fonts to be used on Linux/FreeBSD/Solaris. </div><br>
<div style="background-color:#cccccc;width:99%;padding:10px"> <b>Note:</b> The trial version of ChartDirector will include small yellow banners at the bottom of the charts it produces. These banners will disappear in the licensed version of ChartDirector. </div></div><br>
<hr class="separator"><div class="copyright">&copy; 2015 Advanced Software Engineering Limited. All rights reserved.</div></body>
</HTML>
